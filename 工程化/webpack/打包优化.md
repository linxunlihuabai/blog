我们在打包的时候，应该把共同引用的模块，抽离出来，放到一个公共模块中。这样不管这个模块被多少个入口引用，都只会在最终打包结果中出现一次。——解决代码冗余。
另外，当我们把这些共同引用的模块都堆在一个模块中，这个文件可能异常巨大，也是不利于网络请求和页面加载的。所以我们需要把这个公共模块再按照一定规则进一步拆分成几个模块文件。——减小文件体积。
至于如何拆分，方式因人而异，因项目而异。我个人的拆分原则是：

业务代码和第三方库分离打包，实现代码分割；
业务代码中的公共业务模块提取打包到一个模块；
第三方库最好也不要全部打包到一个文件中，因为第三方库加起来通常会很大，我会把一些特别大的库分别独立打包，剩下的加起来如果还很大，就把它按照一定大小切割成若干模块。

```js
// {
//     chunks: 'all',
//     name: false
// }

{
    splitChunks: {
        cacheGroups: {
            commons: {
                test: mls => !/[\\/]node_modules[\\/]/.test(mls.resource),
                chunks: 'all',
                name: 'commons',
                minChunks: 2,
                enforce: true // 必须
            },
            vendors: {
                test: /[\\/]node_modules[\\/]/,
                chunks: 'all',
                name: 'vendors',
                minChunks: 2,
                enforce: true // 必须
            }
        }
    }
}
```