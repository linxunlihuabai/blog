# 事件循环

js中维护了两个任务队列：宏任务和微任务。js在执行时会检查宏任务队列是否为空，如果非空就出队一个宏任务执行；在执行这个宏任务的过程中可能会产生一些微任务，将这些微任务放入微任务队列中；当这个宏任务执行完了，就去检查微任务队列有没有任务，如果有就挨个取出来执行；直到微任务队列为空再去宏任务队列中取任务执行。如果宏任务队列也空了就休眠直到出现宏任务。